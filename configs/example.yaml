# Proxmox VE Installer Configuration File
# =========================================
#
# This file contains all available configuration options for pve-install.
# Copy this file and modify the values according to your setup.
#
# Usage:
#   pve-install --config /path/to/config.yaml
#
# Values can also be set via environment variables with PVE_ prefix.
# Environment variables take precedence over config file values.
#
# Priority order (highest to lowest):
#   1. User input in TUI
#   2. Environment variables (PVE_*)
#   3. Config file values
#   4. Default values

# =============================================================================
# SYSTEM CONFIGURATION
# =============================================================================

system:
  # Server hostname (RFC 1123 compliant)
  # Must be lowercase, alphanumeric with hyphens, max 63 characters
  # Environment variable: PVE_HOSTNAME
  hostname: pve-server

  # Domain suffix for FQDN (e.g., "local" or "example.com")
  # FQDN will be hostname.domain_suffix
  # Environment variable: PVE_DOMAIN_SUFFIX
  domain_suffix: local

  # Server timezone
  # Use standard timezone names: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
  # Environment variable: PVE_TIMEZONE
  timezone: UTC

  # Admin email address for Proxmox notifications
  # Used for system alerts
  # Environment variable: PVE_EMAIL
  email: admin@example.com

  # SENSITIVE FIELDS (not saved to file, provide via env or TUI):
  # - root_password: Root password for installation (PVE_ROOT_PASSWORD)
  # - ssh_public_key: SSH public key for authentication (PVE_SSH_PUBLIC_KEY)

# =============================================================================
# NETWORK CONFIGURATION
# =============================================================================

network:
  # Network interface name for primary connection
  # Auto-detected if not specified (first UP interface)
  # Environment variable: INTERFACE_NAME
  interface: eth0

  # Bridge mode for VM networking
  # Options:
  #   - internal: VMs use NAT through host (private IPs like 10.0.0.x)
  #   - external: VMs get public IPs (requires additional IPs from Hetzner)
  #   - both: Creates both NAT and external bridges
  # Environment variable: BRIDGE_MODE
  bridge_mode: internal

  # Subnet for NAT network (only used when bridge_mode is "internal" or "both")
  # Default: 10.0.0.0/24
  # Environment variable: PRIVATE_SUBNET
  private_subnet: 10.0.0.0/24

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================

storage:
  # ZFS RAID level
  # Options:
  #   - single: Single disk configuration (no redundancy)
  #   - raid0: Striped (no redundancy, max performance)
  #   - raid1: Mirrored (requires 2+ disks)
  # Environment variable: ZFS_RAID
  zfs_raid: raid1

  # Disk devices to use for Proxmox installation
  # Auto-detected if not specified
  # Environment variable: DISKS (comma-separated)
  disks:
    - /dev/sda
    # - /dev/sdb  # Uncomment for RAID configurations

# =============================================================================
# TAILSCALE VPN (Optional)
# =============================================================================

tailscale:
  # Enable Tailscale VPN installation
  # Environment variable: INSTALL_TAILSCALE
  enabled: false

  # Advertise as SSH server on Tailscale network
  # Allows SSH access via Tailscale IP
  # Environment variable: TAILSCALE_SSH
  ssh: true

  # Expose Proxmox web UI via Tailscale
  # Environment variable: TAILSCALE_WEBUI
  webui: false

  # SENSITIVE FIELD (not saved to file, provide via env or TUI):
  # - auth_key: Tailscale authentication key (TAILSCALE_AUTH_KEY)
  #   Generate from: https://login.tailscale.com/admin/settings/keys
